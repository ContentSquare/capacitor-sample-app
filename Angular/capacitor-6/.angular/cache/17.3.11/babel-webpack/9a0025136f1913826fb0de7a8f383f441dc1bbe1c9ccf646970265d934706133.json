{"ast":null,"code":"import _asyncToGenerator from \"/Users/jean-baptiste.matte/Documents/dev/capacitor/capacitor-sample-app/Angular/capacitor-6/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { ContentsquarePlugin } from '@contentsquare/capacitor-plugin';\nimport * as i0 from \"@angular/core\";\nexport let ContentsquareService = /*#__PURE__*/(() => {\n  class ContentsquareService {\n    constructor() {\n      // We map the url of the screen with the screen name\n      this.mapScreenURL = {\n        '/home': 'Menu',\n        '/basicfunctions': 'Privacy',\n        '/send-screen': 'Send Screen',\n        '/transaction': 'Transaction',\n        '/dynamic-var': 'Dynamic Var',\n        '/custom-var': 'Custom Var',\n        '/parametres': 'Parametres',\n        '/snapshot': 'Snapshot',\n        '/spotify-app/tabs/tab1': 'Spotify homepage',\n        '/spotify-app/tabs/tab2': 'Images test page',\n        '/sr-masking': 'SR Masking',\n        '/sr-masking/sr-pii': 'SR PII',\n        '/sr-masking/sr-capture-elements': 'SR Capture Elements',\n        '/telemetry': 'Telemetry',\n        '/error-analysis': 'Error analysis',\n        '/error-analysis/api-error': 'API Errors',\n        '/error-analysis/custom-error': 'Custom Errors',\n        '/error-analysis/js-error': 'JS Errors'\n      };\n      // Some URLs could be excluded.\n      this.excludedURL = [];\n    }\n    getScreenName(url) {\n      if (url.startsWith('/snapshot')) {\n        let screenName = url.substring(url.lastIndexOf('/') + 1);\n        //Capitalize the first letter\n        screenName = screenName.charAt(0).toUpperCase() + screenName.slice(1);\n        const fullScreenName = 'Ionic ' + screenName;\n        return fullScreenName;\n      } else {\n        return this.mapScreenURL[url] || 'undefined';\n      }\n    }\n    // Send the screen name to the SDK\n    sendScreenName(url) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (!_this.excludedURL.includes(url)) {\n          const screenName = _this.getScreenName(url);\n          ContentsquarePlugin.sendScreenName(screenName).then(res => {\n            console.log(res);\n          }).catch(err => {\n            console.error(err);\n          });\n        } else {\n          console.log(url + ' is an excluded URL ');\n        }\n      })();\n    }\n    static {\n      this.ɵfac = function ContentsquareService_Factory(t) {\n        return new (t || ContentsquareService)();\n      };\n    }\n    static {\n      this.ɵprov = /*@__PURE__*/i0.ɵɵdefineInjectable({\n        token: ContentsquareService,\n        factory: ContentsquareService.ɵfac,\n        providedIn: 'root'\n      });\n    }\n  }\n  return ContentsquareService;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}